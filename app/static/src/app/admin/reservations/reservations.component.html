<div class="container">
  <div class="row justify-content-between">
    <div class="col-12 col-sm-4">
      <h3 style="color:white;">Reservaciones</h3>
    </div>

    <div class="col-12 col-sm-4">
      <button class="btn btn-block" mat-raised-button color="primary" (click)="openCreateReportDialog()"> Descargar base de datos</button>
    </div>

    <div class="col-12 col-sm-4">
      <button class="btn btn-block" mat-raised-button color="primary" (click)="openNewReservationDialog()">+ Nueva Reservaci√≥n</button>
    </div>
  </div>
  <br>

  <div class="row justify-content-center">
    <div class="col-12">
      <table style="width: 100%;" mat-table matSort [dataSource]="dataSourceReservations" class="mat-elevation-z4">

        <ng-container matColumnDef="location">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Sucursal </th>
          <td mat-cell *matCellDef="let element"(click)="openReservationDetail(element)">
           {{element?.location?.name}}
          </td>
        </ng-container>

        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Tipo </th>
          <td mat-cell *matCellDef="let element"(click)="openReservationDetail(element)">
            {{element?.type}}
          </td>
        </ng-container>
        
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha</th>
          <td mat-cell *matCellDef="let element"(click)="openReservationDetail(element)">
             {{element?.date.substring(0,10)}}
             </td>
        </ng-container>

        <ng-container matColumnDef="hour">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Hora </th>
          <td mat-cell *matCellDef="let element"(click)="openReservationDetail(element)">
            {{element?.turns[0].schedule}}:00 hrs
          </td>
        </ng-container>

        <ng-container matColumnDef="turn">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Turno </th>
          <td mat-cell *matCellDef="let element"(click)="openReservationDetail(element)">
            {{element?.turns[0].turn_number}}
          </td>
        </ng-container>

        <ng-container matColumnDef="total_price">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Costo total </th>
          <td mat-cell *matCellDef="let element" (click)="openReservationDetail(element)">
            {{element?.amount | currency:'MXN':'symbol-narrow':'2.2-2':'en'}}
          </td>
        </ng-container>

        <ng-container matColumnDef="edit">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element">
              <button mat-icon-button (click)="openEditReservationDialog(element)">
                <mat-icon matIcon svgIcon ="icn_edit"> </mat-icon>
              </button>
            </td>
          </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumnsReservations"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsReservations;"></tr>
      </table>
    </div>
  </div>

  
</div>